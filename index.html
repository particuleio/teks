
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Website and documentation for tEKS project">
      
      
        <meta name="author" content="ArchiFleKs">
      
      
        <link rel="canonical" href="https://particuleio.github.io/teks/">
      
      
      
        <link rel="next" href="quickstart/">
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.6">
    
    
      
        <title>tEKS</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.558e4712.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#teks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="tEKS" class="md-header__button md-logo" aria-label="tEKS" data-md-component="logo">
      
  <img src="images/logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            tEKS
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/particuleio/teks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    particuleio/teks
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="tEKS" class="md-nav__button md-logo" aria-label="tEKS" data-md-component="logo">
      
  <img src="images/logo-white.svg" alt="logo">

    </a>
    tEKS
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/particuleio/teks" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    particuleio/teks
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terraformterragrunt" class="md-nav__link">
    Terraform/Terragrunt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
    <nav class="md-nav" aria-label="Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terragrunt" class="md-nav__link">
    Terragrunt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-purposes" class="md-nav__link">
    Main purposes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-get" class="md-nav__link">
    What you get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curated-features" class="md-nav__link">
    Curated Features
  </a>
  
    <nav class="md-nav" aria-label="Curated Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bottlerocket-support" class="md-nav__link">
    Bottlerocket support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-session-manager-by-default" class="md-nav__link">
    AWS Session Manager by default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-and-to-zero-scaling-with-eks-managed-node-groups" class="md-nav__link">
    From and to Zero scaling with EKS Managed Node Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-dependencies-upgrade" class="md-nav__link">
    Automatic dependencies upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enforced-security" class="md-nav__link">
    Enforced security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out-of-the-box-logging" class="md-nav__link">
    Out of the box logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out-of-the-box-monitoring" class="md-nav__link">
    Out of the box monitoring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#long-term-storage-with-thanos" class="md-nav__link">
    Long term storage with Thanos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support-for-arm-instances" class="md-nav__link">
    Support for ARM instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm-v3-provider" class="md-nav__link">
    Helm v3 provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-and-not-limited-to" class="md-nav__link">
    Other and not limited to
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-up-to-date" class="md-nav__link">
    Always up to date
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements_1" class="md-nav__link">
    Requirements
  </a>
  
    <nav class="md-nav" aria-label="Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-commit" class="md-nav__link">
    Pre-commit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asdf" class="md-nav__link">
    ASDF
  </a>
  
    <nav class="md-nav" aria-label="ASDF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-plugins" class="md-nav__link">
    Enabling plugins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tools" class="md-nav__link">
    Installing tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-infrastructure-blocks" class="md-nav__link">
    Additional infrastructure blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#branches" class="md-nav__link">
    Branches
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="quickstart/" class="md-nav__link">
        Quickstart
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" tabindex="0" aria-expanded="false">
          Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Documentation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Documentation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user-guides/getting-started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user-guides/vpc/" class="md-nav__link">
        VPC
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user-guides/eks/" class="md-nav__link">
        EKS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="user-guides/eks-addons/" class="md-nav__link">
        EKS Addons
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#terraformterragrunt" class="md-nav__link">
    Terraform/Terragrunt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#contributing" class="md-nav__link">
    Contributing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    Requirements
  </a>
  
    <nav class="md-nav" aria-label="Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#terragrunt" class="md-nav__link">
    Terragrunt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quickstart" class="md-nav__link">
    Quickstart
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main-purposes" class="md-nav__link">
    Main purposes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#what-you-get" class="md-nav__link">
    What you get
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curated-features" class="md-nav__link">
    Curated Features
  </a>
  
    <nav class="md-nav" aria-label="Curated Features">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bottlerocket-support" class="md-nav__link">
    Bottlerocket support
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aws-session-manager-by-default" class="md-nav__link">
    AWS Session Manager by default
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#from-and-to-zero-scaling-with-eks-managed-node-groups" class="md-nav__link">
    From and to Zero scaling with EKS Managed Node Groups
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#automatic-dependencies-upgrade" class="md-nav__link">
    Automatic dependencies upgrade
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enforced-security" class="md-nav__link">
    Enforced security
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out-of-the-box-logging" class="md-nav__link">
    Out of the box logging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#out-of-the-box-monitoring" class="md-nav__link">
    Out of the box monitoring
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#long-term-storage-with-thanos" class="md-nav__link">
    Long term storage with Thanos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#support-for-arm-instances" class="md-nav__link">
    Support for ARM instances
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helm-v3-provider" class="md-nav__link">
    Helm v3 provider
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-and-not-limited-to" class="md-nav__link">
    Other and not limited to
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#always-up-to-date" class="md-nav__link">
    Always up to date
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements_1" class="md-nav__link">
    Requirements
  </a>
  
    <nav class="md-nav" aria-label="Requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-commit" class="md-nav__link">
    Pre-commit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asdf" class="md-nav__link">
    ASDF
  </a>
  
    <nav class="md-nav" aria-label="ASDF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enabling-plugins" class="md-nav__link">
    Enabling plugins
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-tools" class="md-nav__link">
    Installing tools
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-infrastructure-blocks" class="md-nav__link">
    Additional infrastructure blocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#branches" class="md-nav__link">
    Branches
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    License
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="teks">tEKS<a class="headerlink" href="#teks" title="Permanent link">&para;</a></h1>
<p align="center">
  <img src="images/logo.png">
</p>

<p><a href="https://github.com/particuleio/teks/actions/workflows/terraform.yml"><img alt="teks" src="https://github.com/particuleio/teks/actions/workflows/terraform.yml/badge.svg" /></a>
<a href="https://github.com/particuleio/teks/actions/workflows/mkdocs.yml"><img alt="teks:mkdocs" src="https://github.com/particuleio/teks/actions/workflows/mkdocs.yml/badge.svg" /></a>
<a href="https://github.com/semantic-release/semantic-release"><img alt="semantic-release" src="https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg" /></a>
<a href="https://app.fossa.com/projects/git%2Bgithub.com%2Fparticuleio%2Fteks?ref=badge_shield"><img alt="FOSSA Status" src="https://app.fossa.com/api/projects/git%2Bgithub.com%2Fparticuleio%2Fteks.svg?type=shield" /></a></p>
<!-- vim-markdown-toc GFM -->

<ul>
<li><a href="#terraformterragrunt">Terraform/Terragrunt</a></li>
<li><a href="#contributing">Contributing</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#terragrunt">Terragrunt</a></li>
<li><a href="#quickstart">Quickstart</a></li>
<li><a href="#main-purposes">Main purposes</a></li>
<li><a href="#what-you-get">What you get</a></li>
<li><a href="#curated-features">Curated Features</a></li>
<li><a href="#bottlerocket-support">Bottlerocket support</a></li>
<li><a href="#aws-session-manager-by-default">AWS Session Manager by default</a></li>
<li><a href="#from-and-to-zero-scaling-with-eks-managed-node-groups">From and to Zero scaling with EKS Managed Node Groups</a></li>
<li><a href="#automatic-dependencies-upgrade">Automatic dependencies upgrade</a></li>
<li><a href="#enforced-security">Enforced security</a></li>
<li><a href="#out-of-the-box-logging">Out of the box logging</a></li>
<li><a href="#out-of-the-box-monitoring">Out of the box monitoring</a></li>
<li><a href="#long-term-storage-with-thanos">Long term storage with Thanos</a></li>
<li><a href="#support-for-arm-instances">Support for ARM instances</a></li>
<li><a href="#helm-v3-provider">Helm v3 provider</a></li>
<li><a href="#other-and-not-limited-to">Other and not limited to</a></li>
<li><a href="#always-up-to-date">Always up to date</a></li>
<li><a href="#requirements-1">Requirements</a></li>
<li><a href="#pre-commit">Pre-commit</a></li>
<li><a href="#asdf">ASDF</a><ul>
<li><a href="#enabling-plugins">Enabling plugins</a></li>
<li><a href="#installing-tools">Installing tools</a></li>
</ul>
</li>
<li><a href="#examples">Examples</a></li>
<li><a href="#additional-infrastructure-blocks">Additional infrastructure blocks</a></li>
<li><a href="#branches">Branches</a></li>
<li><a href="#license">License</a></li>
</ul>
<!-- vim-markdown-toc -->

<p>tEKS is a set of Terraform / Terragrunt modules designed to get you everything
you need to run a production EKS cluster on AWS. It ships with sensible
defaults, and add a lot of common addons with their configurations that work out
of the box.</p>
<p>This is our opinionated view of what a well structred infrastructure as code
repository should look like.</p>
<p><img alt="⚠️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/26a0.svg" title=":warning:" /> the v5 and further version of this project have been completely revamp
and now offer a skeleton to use as a base for your infrastructure projects
around EKS. All the modules have been moved outside this repository and get
their own versioning. The <a href="https://github.com/particuleio/teks/tree/release-4.X">old README is accessible
here</a></p>
<p><img alt="⚠️" class="emojione" src="https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/26a0.svg" title=":warning:" /> Terraform implementation will not be maintained anymore because of
time, and mostly because it has become quite difficult to get feature parity
with Terragrunt. <a href="https://github.com/particuleio/teks/tree/archive/terraform">Archive branch is available here</a></p>
<h2 id="terraformterragrunt">Terraform/Terragrunt<a class="headerlink" href="#terraformterragrunt" title="Permanent link">&para;</a></h2>
<ul>
<li>Terragrunt implementation is available in the <a href="./terragrunt"><code>terragrunt</code></a> folder.</li>
</ul>
<h2 id="contributing">Contributing<a class="headerlink" href="#contributing" title="Permanent link">&para;</a></h2>
<p>Contribution are welcome, as well as issues, we are usually quite reactive. If
you need more support for your project, do not hesitate to <a href="mailto:contact@particule.io">reach us
directly</a>.</p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">&para;</a></h2>
<h3 id="terragrunt">Terragrunt<a class="headerlink" href="#terragrunt" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="https://www.terraform.io/downloads.html">Terraform</a></li>
<li><a href="https://github.com/gruntwork-io/terragrunt/releases">Terragrunt</a></li>
</ul>
<h2 id="quickstart">Quickstart<a class="headerlink" href="#quickstart" title="Permanent link">&para;</a></h2>
<p>Quickstart guide is available <a href="./QUICKSTART.md">here</a> or on the <a href="https://particuleio.github.io/teks/">official
documentation website</a></p>
<h2 id="main-purposes">Main purposes<a class="headerlink" href="#main-purposes" title="Permanent link">&para;</a></h2>
<p>The main goal of this project is to glue together commonly used tooling with Kubernetes/EKS and to get from an AWS Account to a production cluster with everything you need without any manual configuration.</p>
<h2 id="what-you-get">What you get<a class="headerlink" href="#what-you-get" title="Permanent link">&para;</a></h2>
<p>A production cluster all defined in IaaC with Terraform/Terragrunt:</p>
<ul>
<li>AWS VPC if needed based on <a href="https://github.com/terraform-aws-modules/terraform-aws-vpc"><code>terraform-aws-vpc</code></a></li>
<li>EKS cluster base on <a href="https://github.com/terraform-aws-modules/terraform-aws-eks"><code>terraform-aws-eks</code></a></li>
<li>Kubernetes addons based on <a href="https://github.com/particuleio/terraform-kubernetes-addons"><code>terraform-kubernetes-addons</code></a>: provides various addons that are often used on Kubernetes and specifically on EKS. This module is currated by <a href="https://particule.io/en/">Particule</a> and well maintained.</li>
</ul>
<p>Everything is tied together with Terragrunt and allows you to deploy a multi
cluster architecture in a matter of minutes.</p>
<h2 id="curated-features">Curated Features<a class="headerlink" href="#curated-features" title="Permanent link">&para;</a></h2>
<p>The additional features are provided by tEKS here as well as our <a href="https://github.com/particuleio/terraform-kubernetes-addons">curated addons
module</a> which
support a bunch of various configuration.</p>
<h3 id="bottlerocket-support">Bottlerocket support<a class="headerlink" href="#bottlerocket-support" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/bottlerocket-os/bottlerocket">Bottlerocket OS</a> is available
for node groups (see example
<a href="https://github.com/particuleio/teks/tree/main/terragrunt/live/production/eu-west-1/clusters/demo/eks">here</a>).
Bottle rocket is a container centric OS with less attack surface and no default
shell.</p>
<h3 id="aws-session-manager-by-default">AWS Session Manager by default<a class="headerlink" href="#aws-session-manager-by-default" title="Permanent link">&para;</a></h3>
<p>All the instances (Bottlerocket or Amazon Linux) are registered with <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/session-manager.html">AWS Session Manager</a>. No SSH keys or SSH access is open on instances. Shell access on every instance can be given with SSM for added security.</p>
<div class="highlight"><pre><span></span><code>aws ssm start-session --target INSTANCE_ID
</code></pre></div>
<h3 id="from-and-to-zero-scaling-with-eks-managed-node-groups">From and to Zero scaling with EKS Managed Node Groups<a class="headerlink" href="#from-and-to-zero-scaling-with-eks-managed-node-groups" title="Permanent link">&para;</a></h3>
<p>tEKS support scaling to and from 0, even with using <a href="https://kubernetes.io/docs/reference/labels-annotations-taints/">well know Kubernetes labels</a>, there are a number of <a href="https://github.com/aws/containers-roadmap/issues/724">ongoing issues</a> for support of <a href="https://docs.aws.amazon.com/eks/latest/userguide/managed-node-groups.html">EKS Managed node groups</a> with <a href="https://github.com/kubernetes/autoscaler/tree/master/cluster-autoscaler">Cluster Autoscaler</a>. Thanks to <a href="https://github.com/particuleio/teks/blob/main/terragrunt/snippets/eks-asg-tags/eks-asg-tags.tf">automatic ASG tagging</a>, tEKS adds the necessary tags on autoscaling group to balance similar node groups and allow you to scale to and from 0 and even to use well know labels such as <code>node.kubernetes.io/instance-type</code> or <code>topology.kubernetes.io/zone</code>. The logic can be extended to support other well known labels.</p>
<h3 id="automatic-dependencies-upgrade">Automatic dependencies upgrade<a class="headerlink" href="#automatic-dependencies-upgrade" title="Permanent link">&para;</a></h3>
<p>We are using renovate to automatically open PR with the latest dependencies
update (Terraform modules upgrade) so you never miss an upgrade and are alwasy
up to date with the latest features.</p>
<h3 id="enforced-security">Enforced security<a class="headerlink" href="#enforced-security" title="Permanent link">&para;</a></h3>
<ul>
<li>Encryption by default for root volume on instances with Custom KMS Key</li>
<li>AWS EBS CSI volumes encrypted by default with Custom KMS Key</li>
<li>No IAM credentials on instances, everything is enforced with <a href="https://aws.amazon.com/blogs/opensource/introducing-fine-grained-iam-roles-service-accounts/">IRSA</a>.</li>
<li>Each addons is deployed in it's own namespace with sensible default network policies.</li>
<li>Calico Tigera Operator for network policy.</li>
<li>PSP are enabled but not enforced because of depreciation.</li>
</ul>
<h3 id="out-of-the-box-logging">Out of the box logging<a class="headerlink" href="#out-of-the-box-logging" title="Permanent link">&para;</a></h3>
<p>Three stacks are supported:
* <a href="https://docs.fluentbit.io/manual/installation/aws-container">AWS for Fluent Bit</a>: Forward containers logs to Cloudwatch Logs
* <a href="https://grafana.com/oss/loki/">Grafana Loki</a>: Uses <a href="https://grafana.com/docs/loki/latest/clients/promtail/">Promtail</a> to forward logs
    to <a href="https://grafana.com/oss/loki/">Loki</a>. Grafana or a tEKS supported
    monitoring stack (see below) is necessary to display logs.</p>
<h3 id="out-of-the-box-monitoring">Out of the box monitoring<a class="headerlink" href="#out-of-the-box-monitoring" title="Permanent link">&para;</a></h3>
<ul>
<li>Prometheus Operator with defaults dashboards</li>
<li>Addons that support metrics are enable along with their <code>serviceMonitor</code></li>
<li>Custom grafana dashboard are available by default</li>
</ul>
<p>Two stacks are supported:
* <a href="https://victoriametrics.com/">Victoria Metrics</a> <a href="https://github.com/VictoriaMetrics/helm-charts/tree/master/charts/victoria-metrics-k8s-stack">Stack</a>: <a href="https://victoriametrics.com/">Victoria Metrics</a> is a Prometheus alertnative, <a href="https://github.com/VictoriaMetrics/operator#overview">compatible with prometheus CRDs</a>
* <a href="https://github.com/prometheus-community/helm-charts/tree/main/charts/kube-prometheus-stack">Kube Prometheus Stack</a>: Classic <a href="https://prometheus.io/">Prometheus</a> Monitoring</p>
<h3 id="long-term-storage-with-thanos">Long term storage with Thanos<a class="headerlink" href="#long-term-storage-with-thanos" title="Permanent link">&para;</a></h3>
<p>With Prometheus, tEKS includes <a href="https://thanos.io/">Thanos</a> by default. Thanos
uses S3 to store and query metrics, offering long term storage without the
costs. For more information check out our article on the <a href="https://www.cncf.io/blog/2021/03/15/multi-cluster-monitoring-with-thanos/">CNCF
Blog</a></p>
<h3 id="support-for-arm-instances">Support for ARM instances<a class="headerlink" href="#support-for-arm-instances" title="Permanent link">&para;</a></h3>
<p>With either Amazon Linux or BottleRocket, you can use a mix of ARM and AMD64
instances. <a href="https://github.com/particuleio/teks/blob/main/terragrunt/live/production/eu-west-1/clusters/demo/eks/terragrunt.hcl#L157">Check out our
example</a></p>
<h3 id="helm-v3-provider">Helm v3 provider<a class="headerlink" href="#helm-v3-provider" title="Permanent link">&para;</a></h3>
<ul>
<li>All addons support Helm v3 configuration</li>
<li>All charts are easily customizable</li>
</ul>
<h3 id="other-and-not-limited-to">Other and not limited to<a class="headerlink" href="#other-and-not-limited-to" title="Permanent link">&para;</a></h3>
<ul>
<li>priorityClasses for addons and critical addons</li>
<li>lot of manual stuff have been automated under the hood</li>
</ul>
<h3 id="always-up-to-date">Always up to date<a class="headerlink" href="#always-up-to-date" title="Permanent link">&para;</a></h3>
<p>We always support the latest modules and features <a href="https://github.com/particuleio/terraform-kubernetes-addons">for our addons module</a>.</p>
<p>Our cutting edges addons include (not limited to):
  * <a href="https://github.com/kubernetes-sigs/aws-ebs-csi-driver">AWS EBS CSI Drivers</a>: Support for Volume encryption by default, snapshot, etc
  * <a href="https://github.com/kubernetes-sigs/aws-efs-csi-driver">AWS EFS CSI Drivers</a>: Use AWS NFS shares.
  * <a href="https://secrets-store-csi-driver.sigs.k8s.io/">Secret Store CSI Driver</a>: load
      secret from Secret Managers with
      <code>aws-secret-store-csi-driver</code> <a href="https://github.com/aws/secrets-store-csi-driver-provider-aws">driver</a>
  * <a href="https://linkerd.io/">Linkerd2</a> or <a href="https://cert-manager.io/docs/usage/csi/">Certificate Manager CSI</a> for mTLS</p>
<h2 id="requirements_1">Requirements<a class="headerlink" href="#requirements_1" title="Permanent link">&para;</a></h2>
<p>Terragrunt is not a hard requirement but all the modules are tested with Terragrunt.</p>
<ul>
<li><a href="https://www.terraform.io/intro/getting-started/install.html">Terraform</a></li>
<li><a href="https://github.com/gruntwork-io/terragrunt#install-terragrunt">Terragrunt</a></li>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/">kubectl</a></li>
<li><a href="https://helm.sh/">helm</a></li>
</ul>
<h3 id="pre-commit">Pre-commit<a class="headerlink" href="#pre-commit" title="Permanent link">&para;</a></h3>
<p>This repository use pre-commit hooks, please see
<a href="https://github.com/antonbabenko/pre-commit-terraform#how-to-install">this</a> on
how to setup tooling</p>
<h3 id="asdf">ASDF<a class="headerlink" href="#asdf" title="Permanent link">&para;</a></h3>
<p><a href="https://asdf-vm.com/">ASDF</a> is a package manager which is great for managing
cloud native tooling. More info <a href="https://particule.io/blog/asdf/">here</a> (eg.
French).</p>
<h4 id="enabling-plugins">Enabling plugins<a class="headerlink" href="#enabling-plugins" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>for p in $(cut -d &quot; &quot; .tool-versions -f1); do asdf plugin add $p; done
</code></pre></div>
<h4 id="installing-tools">Installing tools<a class="headerlink" href="#installing-tools" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code>asdf install
</code></pre></div>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<p><a href="terragrunt/live"><code>terragrunt/live</code></a> folder provides an opinionated directory structure for a production environment.</p>
<h2 id="additional-infrastructure-blocks">Additional infrastructure blocks<a class="headerlink" href="#additional-infrastructure-blocks" title="Permanent link">&para;</a></h2>
<p>If you wish to extend your infrastructure you can pick up additional modules on the <a href="https://github.com/particuleio">particuleio github page</a>.
Some modules can also be found on the <a href="https://github.com/clusterfrak-dynamics">clusterfrak-dynamics github page</a>.</p>
<h2 id="branches">Branches<a class="headerlink" href="#branches" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://github.com/particuleio/teks/tree/main"><code>main</code></a>: Backward incompatible with v1.X but compatible with v2.X, releases bumped to v3.X because a lot has changed.</li>
<li><a href="https://github.com/particuleio/teks/tree/release-1.X"><code>release-1.X</code></a>: Compatible with Terraform &lt; 0.12 and Terragrunt &lt; 0.19. Be sure to target the same modules version.</li>
<li><a href="https://github.com/particuleio/teks/tree/release-2.X"><code>release-2.X</code></a>: Compatible with Terraform &gt;= 0.12 and Terragrunt &gt;= 0.19. Be sure to target the same modules version.</li>
</ul>
<h2 id="license">License<a class="headerlink" href="#license" title="Permanent link">&para;</a></h2>
<p><a href="https://app.fossa.io/projects/git%2Bgithub.com%2Fparticuleio%2Fteks?ref=badge_large"><img alt="FOSSA Status" src="https://app.fossa.io/api/projects/git%2Bgithub.com%2Fparticuleio%2Fteks.svg?type=large" /></a></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png" /></a>
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": ".", "features": ["tabs", "instant"], "search": "assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.51d95adb.min.js"></script>
      
    
  </body>
</html>